# Proxmox Configuration
proxmox_api_url  = "https://192.168.171.140:8006/api2/json"
proxmox_user     = "root@pam"
proxmox_password = "your-proxmox-password"
proxmox_node     = "pve"

# Container defaults
container_password = "rootpass123"
gateway           = "192.168.171.2"
netmask           = "24"

# Container definitions
containers = {
  flask = {
    vmid     = 303
    hostname = "test-flask"
    ip       = "192.168.171.203"
    cores    = 2
    memory   = 2048
    swap     = 512
    disk_size = "8G"
    framework = "Python Flask"
    repo     = "https://github.com/mouones/test"
    packages = ["python3", "python3-pip", "python3-venv", "git"]
    setup_commands = [
      "cd /opt/app && python3 -m venv venv",
      "cd /opt/app && . venv/bin/activate && pip install --upgrade pip",
      "cd /opt/app && . venv/bin/activate && pip install flask gunicorn"
    ]
    build_command = ". venv/bin/activate && pip install -r requirements.txt || pip install flask"
    start_command = "/opt/app/venv/bin/gunicorn --bind 0.0.0.0:8000 --workers 2 app:app"
    port         = 8000
  }

  django = {
    vmid     = 304
    hostname = "test-django"
    ip       = "192.168.171.204"
    cores    = 2
    memory   = 2048
    swap     = 512
    disk_size = "8G"
    framework = "Python Django"
    repo     = "https://github.com/mouones/test"
    packages = ["python3", "python3-pip", "python3-venv", "git"]
    setup_commands = [
      "cd /opt/app && python3 -m venv venv",
      "cd /opt/app && . venv/bin/activate && pip install --upgrade pip",
      "cd /opt/app && . venv/bin/activate && pip install django gunicorn"
    ]
    build_command = ". venv/bin/activate && pip install -r requirements.txt || pip install django"
    start_command = "/opt/app/venv/bin/gunicorn --bind 0.0.0.0:8000 --workers 2 wsgi:application"
    port         = 8000
  }

  express = {
    vmid     = 305
    hostname = "test-express"
    ip       = "192.168.171.205"
    cores    = 2
    memory   = 2048
    swap     = 512
    disk_size = "8G"
    framework = "Node.js Express"
    repo     = "https://github.com/mouones/test"
    packages = ["curl", "git"]
    setup_commands = [
      "curl -fsSL https://deb.nodesource.com/setup_18.x | bash -",
      "apt-get install -y nodejs"
    ]
    build_command = "npm install"
    start_command = "node app.js"
    port         = 3000
  }
}
